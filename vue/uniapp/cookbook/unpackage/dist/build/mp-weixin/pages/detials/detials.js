(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/detials/detials"],{"05bf":function(e,n,t){"use strict";(function(e,n){var i=t("4ea4");t("9b8f");i(t("66fd"));var o=i(t("9b17"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},"1af1":function(e,n,t){"use strict";(function(e){var i=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i(t("2eee")),u=i(t("c973")),c=i(t("18dd")),r={potions:{styleIsolation:"shared"},data:function(){return{menulist:[],menuobj:{},menudetialobj:{},recommendlist:[],iscollect:!1,userInfo:"",islogin:!1,isvip:!1,type:0}},methods:{gologin:function(){e.switchTab({url:"/pages/my/my"})},gobuymember:function(){this.islogin&&e.navigateTo({url:"/pages/buymember/buymember?type=3"})},goback:function(){1==this.type?e.switchTab({url:"/pages/index/index"}):2==this.type?e.switchTab({url:"/pages/member/member"}):3==this.type?e.switchTab({url:"/pages/my/my"}):(4==this.type||5==this.type)&&e.switchTab({url:"/pages/index/index"})},godetial:function(n){console.log("godetial",n),e.navigateTo({url:"/pages/detials/detials?id=".concat(n._id,"&type=",5)})},docollect:function(){var e=this;return(0,u.default)(o.default.mark((function n(){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:c.default.islogin()?e.$service.userService.collect({user_id:e.userInfo._id,menu_id:e.menudetialobj._id}).then((function(n){console.log("docollect",n),1==n.code?e.iscollect=!0:0==n.code&&(e.iscollect=!1)})):e.iscollect=!1;case 1:case"end":return n.stop()}}),n)})))()}},onLoad:function(e){var n=this;return(0,u.default)(o.default.mark((function t(){var i,u;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("options",e),!e){t.next=20;break}return n.type=e.type,n.$service.searchService.menuDetail({_id:e.id}).then((function(e){200==e.meta.status&&(n.menudetialobj=e.message[0],n.menulist=e.message[0].ingredient,console.log("menuDetail",n.menudetialobj))})),n.$service.searchService.memberRecommend().then((function(e){200==e.meta.status&&(n.recommendlist=e.message)})),c.default.islogin(),t.next=8,c.default.getuserinfo();case 8:return n.userInfo=t.sent,n.islogin=c.default.islogin(),t.next=12,c.default.isVip();case 12:if(n.isvip=t.sent,console.log(n.isvip),!n.islogin){t.next=20;break}return t.next=17,c.default.getUserCollect();case 17:i=t.sent,i&&(u=i.filter((function(e){return e._id==n.menudetialobj._id})),u.length>0&&(n.iscollect=!0)),n.$service.userService.record({user_id:n.userInfo._id,menu_id:n.menudetialobj._id}).then((function(e){console.log("index",e)}));case 20:case"end":return t.stop()}}),t)})))()}};n.default=r}).call(this,t("543d")["default"])},"94c0":function(e,n,t){"use strict";t.r(n);var i=t("1af1"),o=t.n(i);for(var u in i)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return i[e]}))}(u);n["default"]=o.a},9551:function(e,n,t){},"9b17":function(e,n,t){"use strict";t.r(n);var i=t("c8c1"),o=t("94c0");for(var u in o)["default"].indexOf(u)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(u);t("e7c5");var c=t("f0c5"),r=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);n["default"]=r.exports},c8c1:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return i}));var i={myheader:function(){return t.e("components/myheader/myheader").then(t.bind(null,"b822"))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"8a3e"))},mypageview:function(){return t.e("components/mypageview/mypageview").then(t.bind(null,"5712"))},mybg:function(){return t.e("components/mybg/mybg").then(t.bind(null,"06bb"))},mytable:function(){return t.e("components/mytable/mytable").then(t.bind(null,"9986"))},mycard:function(){return t.e("components/mycard/mycard").then(t.bind(null,"ce3c"))},mymenu:function(){return t.e("components/mymenu/mymenu").then(t.bind(null,"e5d0"))}},o=function(){var e=this.$createElement;this._self._c},u=[]},e7c5:function(e,n,t){"use strict";var i=t("9551"),o=t.n(i);o.a}},[["05bf","common/runtime","common/vendor"]]]);