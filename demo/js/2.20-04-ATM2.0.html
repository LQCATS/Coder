<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /* 
             ATM多用户版：用户需要先输入一级菜单选项：1.登录 2. 注册 3. 退出
                功能：
                1. 注册：用户输入用户名和密码，注册成功的信息追加进二维数组中，相同用户名不能重复注册
                var users=[["admin", "ad123"]]
                2. 登录：用户输入用户名和密码，判断是否登录成功

        */
        //用户信息,二维数组
        let users = [];
        //一级菜单状态
        let isGo = true;
        while (isGo) {
            let num = prompt("输入一级菜单选项：1.登录 2. 注册 3. 退出") - 0;
            //switch判断
            switch (num) {
                case 1:
                    alert("登录");
                    if (users.length == 0) {
                        alert("请先注册")
                    } else {
                        let yourName = prompt("请输入登录账户")
                        let yourPwd = prompt("请输入登录密码")
                        //开关变量,记录是否登录匹配成功
                        let isLogin = false;
                        //对比每个一维数组数据
                        for (let i = 0; i <= users.length - 1; i++) {
                            if (yourName == users[i][0] && yourPwd == users[i][1]) {
                                // alert("登录成功");
                                isLogin = true;
                                break;
                            }
                        }
                        //判断开关变量状态
                        if(isLogin){
                            alert("登录成功")
                        }else{
                            alert("登录失败")
                        }
                    }
                    break;
                case 2:
                    // alert("注册");
                    //用户输入注册信息
                    let regName = prompt("请输入注册用户名")
                    let regPwd = prompt("请输入注册密码")
                    //判断users是否为初始值
                    if (users.length == 0) {
                        //直接作为一维数组放入用户数组中
                        users[users.length] = [regName, regPwd]
                    } else {
                        //开关变量,表示是否存在用户
                        let isHave = false
                        //判断当前注册用户是否已经存在
                        for (let i = 0; i <= users.length - 1; i++) {
                            if (regName == users[i][0]) {
                                //改变开关变量
                                isHave = true
                                break;//一旦存在相同用户,后面数据不需要匹配
                            }
                        }
                        //判断开关变量的状态
                        if (isHave) {
                            alert("已注册,存在相同用户");
                        } else {
                            alert("注册成功")
                            users[users.length] = [regName, regPwd]
                        }
                    }
                    alert(users)
                    break;
                case 3:
                    alert("退出");
                    //改变循环状态,不循环
                    isGo = false
                    break;
                default:
                    alert("无效选项,请重新输入");
                    break;
            }
        }
    </script>
</body>

</html>