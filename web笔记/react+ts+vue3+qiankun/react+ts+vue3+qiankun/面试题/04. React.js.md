### 1、React 组件通信。

1. 父传子：props
2. 子传父：回调函数
3. 非父子：事件总线
4. 嵌套组件：context
5. 状态机：Redux

### 2、React 类组件中的性能问题。

性能问题：类组件中的数据无论是否发生改变，只要调用了 setState，都会触发 render 方法。

解决方案：

1. shouldComponentUpdate：在该生命周期函数中，获取到变化前后的数据进行对比，如果变化前后数据相等，说明数据没有发生改变，返回 false 来阻止 render 的执行；如果变化前后数据不相等，说明数据发生了改变，返回 true 来执行 render。
2. PureComponent：创建类组件时去继承 PureComponent，PureComponent 中已经通过 shouldComponentUpdate 对 redner 进行了优化。

### 3、useEffect 的使用。

1. 第二个参数为空数组：组件挂载完成时执行；
2. 第二个参数为非空数组：组件挂载完成时 + 数组中任意数据改变时执行；
3. 没有第二个参数：组件挂载完成时 + 组件更新时执行；
4. 第一个参数中返回函数：返回的函数，在组件卸载前执行；

### 4、类组件和函数组件的区别。

1. 语法层面：
   - 类组件：基于 ES6 的 class；
   - 函数组件：基于函数；
2. this：
   - 类组件：访问组件的数据和方法都需要通过 this ；
   - 函数组件：不需要使用 this；
3. 内部状态：
   - 类组件：类组件中通过 state 定义内部状态；
   - 函数组件：在 16.8 之前，函数组件没有内部状态，16.8 之后，通过 useState 定义内部状态；
4. 生命周期：
   - 类组件：类组件中有自己的生命周期函数；
   - 函数组件：在 16.8 之前，函数组件没有生命周期函数，16.8 之后，通过 useEffect 模拟生命周期函数；
5. hook：
   - 类组件：不能使用 Hook
   - 函数组件：可以使用 Hook

### 5、setState 的同步异步

在 React 18 以后，setState 在任何情况下都是异步的。

在 React 18 以前，如果是在 React 的代码流程中，setState 是异步的，例如 React 事件、组件的生命周期中。但是如果是在原生 JS 的代码流程中，setState 是同步的，例如 setTimeout/setInterval。

### 6、SPA 的优缺点

优点：

1. 用户有良好的交互体验；
2. 能减轻服务器的压力；

缺点：

1. SEO 不友好；
2. 首屏加载时间长；
3. 不适用于节点操作多的项目；

### 7、常见的内置 Hook

1. useState：定义组件内部数据
2. useRef：定义组件内部数据，绑定节点、组件
3. useEffect：模拟生命周期
4. useMemo：缓存数据
5. useCallback：缓存方法
6. useReducer

### 8、React 和 Vue 的区别。

1. Vue 是支持双向数据绑定，React 不支持（React 中是受控和非受控）；
2. Vue 是通过响应式系统检测数据变化来更新组件，React 是通过调用 setState 方法修改数据来更新数据；
3. Vue 是通过模板语法来编写组件，React 是通过 JSX 的语法来编写组件；
4. Vue 有官方配套的状态机和路由，React 需要使用第三方的插件；
5. Vue 封装得更多，上手更容易，React 封装得少一些，上手较难，但是灵活度更高；

### 9、什么高阶组件？

HOC，实际上就是一个函数。

HOC 函数需要接收一个组件作为参数，在 HOC中对组件的功能进行增强，最后返回一个新的组件。

例如在项目中，处理组件权限时可以使用 HOC。

### 10、在 React 事件中，连续多次调用 setState，会执行几次。

一次。

因为 React 在处理事件时，会将事件中多次调用的 setState，合并成一次更新。目的是为了减少不必要的重复渲染，提高性能。

